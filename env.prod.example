# ===============================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ===============================
# DO NOT COMMIT THIS FILE TO VERSION CONTROL
# Copy this file to .env.prod and update with your production values

# ===============================
# SERVER CONFIGURATION
# ===============================
NODE_ENV=production
PORT=3001
API_VERSION=v1
DEFAULT_PASSWORD=Password123@
BASE_URL=https://your-domain.com

# ===============================
# DATABASE CONFIGURATION
# ===============================
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_USER=oauth_user
MYSQL_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_IN_PRODUCTION
MYSQL_DATABASE=oauth_prod
MYSQL_SSL=false
MYSQL_TIMEZONE=America/Lima
MYSQL_CONNECTION_LIMIT=20
MYSQL_ACQUIRE_TIMEOUT=30000
MYSQL_TIMEOUT=30000

# ===============================
# REDIS CONFIGURATION
# ===============================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_STRONG_REDIS_PASSWORD_IN_PRODUCTION
REDIS_DB=0
REDIS_TTL=1800
REDIS_KEY_PREFIX=oauth:prod:

# ===============================
# JWT CONFIGURATION
# ===============================
# IMPORTANT: Use strong, unique secrets in production
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET_32_CHARS_MINIMUM
JWT_REFRESH_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_REFRESH_SECRET_32_CHARS_MINIMUM
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=oauth-backend-prod
JWT_AUDIENCE=oauth-frontend-prod

# ===============================
# OAUTH PROVIDERS CONFIGURATION
# ===============================
# Google OAuth - Get from Google Cloud Console
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_CALLBACK_URL=https://your-domain.com/api/v1/auth/google/callback

# Microsoft OAuth - Get from Azure AD
MICROSOFT_CLIENT_ID=your_microsoft_client_id_here
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret_here
MICROSOFT_TENANT_ID=your_microsoft_tenant_id_here
MICROSOFT_CALLBACK_URL=https://your-domain.com/api/v1/auth/microsoft/callback

# GitHub OAuth - Get from GitHub Developer Settings
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here
GITHUB_CALLBACK_URL=https://your-domain.com/api/v1/auth/github/callback

# LinkedIn OAuth - Get from LinkedIn Developer Network
LINKEDIN_CLIENT_ID=your_linkedin_client_id_here
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret_here
LINKEDIN_CALLBACK_URL=https://your-domain.com/api/v1/auth/linkedin/callback

# ===============================
# EMAIL CONFIGURATION
# ===============================
# Production email service (Gmail, SendGrid, AWS SES, etc.)
EMAIL_SERVICE=smtp
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-production-email@domain.com
EMAIL_PASSWORD=your-email-app-password

# ===============================
# FRONTEND CONFIGURATION
# ===============================
FRONTEND_URL=https://your-frontend-domain.com
FRONTEND_SUCCESS_REDIRECT=/auth/success
FRONTEND_ERROR_REDIRECT=/auth/error
FRONTEND_EMAIL_VERIFICATION_URL=https://your-frontend-domain.com/auth/verify-email
FRONTEND_PASSWORD_RESET_URL=https://your-frontend-domain.com/auth/reset-password

# ===============================
# SECURITY CONFIGURATION
# ===============================
# Password hashing - Higher rounds for production
BCRYPT_ROUNDS=12

# Login security - More restrictive in production
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# Rate limiting - More restrictive in production
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_WINDOW_MS=60000
RATE_LIMIT_AUTH_MAX_REQUESTS=5

# CORS - More restrictive in production
CORS_ORIGIN=https://your-frontend-domain.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# ===============================
# LOGGING CONFIGURATION
# ===============================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_ERROR_FILE=logs/error.log
LOG_MAX_SIZE=50m
LOG_MAX_FILES=30d

# ===============================
# FEATURE FLAGS
# ===============================
# Enable all security features in production
FEATURE_2FA_ENABLED=true
FEATURE_EMAIL_VERIFICATION_REQUIRED=true
FEATURE_OAUTH_ACCOUNT_LINKING=true
FEATURE_ADMIN_PANEL=true
FEATURE_AUDIT_LOGGING=true
FEATURE_RATE_LIMITING=true
FEATURE_PHONE_VERIFICATION_ENABLED=true

# ===============================
# AUDIT CONFIGURATION
# ===============================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90

# ===============================
# SMS CONFIGURATION (Optional)
# ===============================
# Twilio credentials for SMS verification
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_VERIFY_SERVICE_SID=your_twilio_verify_service_sid

# ===============================
# MONITORING & ALERTS
# ===============================
# Add monitoring configuration if needed
# SENTRY_DSN=your_sentry_dsn_here
# NEW_RELIC_LICENSE_KEY=your_new_relic_key_here
